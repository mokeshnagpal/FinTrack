<!doctype html>
<html lang="en" data-theme="light">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>FinTrak â€” View-only</title>

    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}" />
</head>

<body>
    <div class="auth-wrapper">
        <div class="auth-card card">
            <div class="card-body">
                <div class="stack" style="gap:.6rem">
                    <div class="center" style="justify-content:flex-start; gap:.75rem;">
                        <div class="auth-brand">FT</div>
                        <div>
                            <div class="page-title">FinTrak</div>
                            <div class="kicker">Open view-only for a user</div>
                        </div>
                    </div>

                    {# Inline flash messages #}
                    {% with messages = get_flashed_messages(with_categories=true) %}
                    {% if messages %}
                    {% for category, msg in messages %}
                    <div class="flash-inline {{ 'success' if category == 'success' else 'danger' }}">{{ msg }}</div>
                    {% endfor %}
                    {% endif %}
                    {% endwith %}

                    <!-- NOTE: POST to the view-only endpoint -->
                    <form method="post" action="{{ url_for('view_login') }}" novalidate>
                        {{ form.hidden_tag() }}

                        <div class="stack" style="gap:.5rem;">
                            <label class="kicker" for="username">Username</label>
                            <input id="username" name="username" class="form-control" type="text" placeholder="username"
                                value="{{ request.form.username or '' }}" autofocus />

                            <label class="kicker" for="password">Password</label>
                            <input id="password" name="password" class="form-control" type="password"
                                placeholder="View-only password" />
                        </div>

                        <div class="form-foot">
                            <button type="submit" class="btn btn-primary">Open view</button>
                            <a href="{{ url_for('login') }}" class="small-muted">Admin Mode</a>
                        </div>
                    </form>

                </div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/flash.js') }}"></script>
</body>

</html>